<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Modern Shooting Game - Exciting Arcade Shooter</title>
  <meta name="description" content="Play Modern Shooting Game, an exciting arcade shooter with coins, hearts, rapid shooting, and social sharing. Enjoy immersive gameplay with sound effects and vibrant backgrounds." />
  <meta name="keywords" content="shooting game, arcade game, HTML5 game, online game, coins, hearts, rapid shoot, social sharing" />
  <meta name="author" content="YourName or YourCompany" />
  <meta name="robots" content="index, follow" />
  <meta property="og:title" content="Modern Shooting Game - Exciting Arcade Shooter" />
  <meta property="og:description" content="Play Modern Shooting Game, an exciting arcade shooter with coins, hearts, rapid shooting, and social sharing." />
  <meta property="og:type" content="game" />
  <meta property="og:url" content="https://yourgameurl.example.com" />
  <meta property="og:image" content="https://yourgameurl.example.com/thumbnail.png" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Modern Shooting Game - Exciting Arcade Shooter" />
  <meta name="twitter:description" content="Play Modern Shooting Game, an exciting arcade shooter with coins, hearts, rapid shooting, and social sharing." />
  <meta name="twitter:image" content="https://yourgameurl.example.com/thumbnail.png" />

  <!-- Favicon as inline SVG data URI -->
  <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 64 64'%3E%3Ccircle cx='32' cy='32' r='30' fill='%2300bfff'/%3E%3Ccircle cx='32' cy='32' r='20' fill='%2300f6ff'/%3E%3C/svg%3E" />

  <style>
    /* Reset and base */
    * {
      box-sizing: border-box;
    }
    body {
      margin: 0;
      background: linear-gradient(135deg, #0f2027, #203a43, #2c5364);
      color: #eee;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      overflow: hidden;
      user-select: none;
      display: flex;
      flex-direction: column;
      align-items: center;
      min-height: 100vh;
      padding: 10px 0;
    }

    /* Scoreboard */
    #scoreboard {
      font-size: 1.8rem;
      font-weight: 600;
      text-shadow: 0 0 8px #00f6ff;
      margin-bottom: 10px;
      letter-spacing: 0.05em;
      display: flex;
      align-items: center;
      gap: 20px;
    }
    #scoreboard .coins {
      display: flex;
      align-items: center;
      gap: 6px;
    }
    #scoreboard .coins svg {
      width: 24px;
      height: 24px;
      fill: gold;
      filter: drop-shadow(0 0 2px #ffd700);
    }
    #scoreboard .hearts {
      display: flex;
      align-items: center;
      gap: 6px;
    }
    #scoreboard .hearts svg {
      width: 24px;
      height: 24px;
      fill: #ff4b4b;
      filter: drop-shadow(0 0 2px #ff0000);
    }

    /* Canvas styling */
    #gameCanvas {
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      border-radius: 15px;
      box-shadow:
        0 0 15px #00f6ff88,
        inset 0 0 20px #00f6ff44;
      display: block;
      margin: 0 auto;
      touch-action: none;
      max-width: 100vw;
      width: 480px;
      height: 640px;
      image-rendering: optimizeSpeed; /* speed optimization */
      image-rendering: pixelated;
    }

    /* Game Over Screen */
    #gameOverScreen {
      position: fixed;
      top: 0; left: 0; right: 0; bottom: 0;
      background: rgba(15, 32, 39, 0.95);
      color: #00f6ff;
      display: none;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      font-size: 2.5rem;
      font-weight: 700;
      z-index: 100;
      text-shadow: 0 0 15px #00f6ff;
      letter-spacing: 0.1em;
      padding: 20px;
      text-align: center;
    }
    #gameOverScreen #finalScore {
      margin-top: 15px;
      font-size: 1.8rem;
      font-weight: 500;
      color: #a0e9ff;
      text-shadow: none;
    }
    #gameOverScreen button,
    #gameOverScreen #shareFacebook,
    #gameOverScreen #shareTwitter,
    #gameOverScreen #shareWhatsApp {
      margin-top: 20px;
      padding: 12px 24px;
      font-size: 1.2rem;
      cursor: pointer;
      border-radius: 8px;
      border: none;
      font-weight: 700;
      user-select: none;
      transition: background 0.3s ease;
      min-width: 180px;
    }
    #gameOverScreen button#restartBtn {
      background: linear-gradient(90deg, #00f6ff, #004a9f);
      color: #0a0f1a;
      box-shadow:
        0 0 10px #00f6ff,
        inset 0 -3px 5px #004a9f;
    }
    #gameOverScreen button#restartBtn:hover {
      background: linear-gradient(90deg, #004a9f, #00f6ff);
      box-shadow:
        0 0 15px #00f6ff,
        inset 0 -3px 5px #002d5c;
    }
    #gameOverScreen button#restartBtn:active {
      transform: scale(0.95);
      box-shadow: none;
    }
    #shareFacebook {
      background: #3b5998;
      color: #fff;
    }
    #shareFacebook:hover {
      background: #2d4373;
    }
    #shareTwitter {
      background: #1da1f2;
      color: #fff;
    }
    #shareTwitter:hover {
      background: #0d95e8;
    }
    #shareWhatsApp {
      background: #25d366;
      color: #fff;
    }
    #shareWhatsApp:hover {
      background: #1da851;
    }

    /* Mobile Controls */
    #mobileControls {
      position: fixed;
      bottom: 20px;
      width: 100%;
      display: flex;
      justify-content: space-around;
      pointer-events: auto;
      user-select: none;
      z-index: 20;
      padding: 0 15px;
      max-width: 480px;
      margin: 0 auto;
      left: 50%;
      transform: translateX(-50%);
    }

    .controlBtn {
      background: linear-gradient(145deg, #0a1a2b, #112c4a);
      border: none;
      color: #00f6ff;
      font-size: 2.8rem;
      padding: 18px 28px;
      border-radius: 50%;
      box-shadow:
        5px 5px 15px #07101a,
        -5px -5px 15px #19355f;
      cursor: pointer;
      transition: all 0.2s ease;
      user-select: none;
      display: flex;
      justify-content: center;
      align-items: center;
      width: 75px;
      height: 75px;
      text-shadow: 0 0 8px #00f6ff88;
      font-weight: 700;
      user-select: none;
    }

    .controlBtn.shootBtn {
      border-radius: 40px;
      width: 130px;
      font-size: 1.6rem;
      padding: 18px 0;
      font-weight: 800;
      letter-spacing: 0.05em;
      box-shadow:
        0 0 25px #ff3b3b,
        inset 0 0 15px #ff3b3b;
      background: linear-gradient(145deg, #ff4b4b, #cc1a1a);
      color: #fff;
      text-shadow: 0 0 12px #ff3b3b;
    }

    .controlBtn:hover {
      box-shadow:
        0 0 25px #00f6ff,
        inset 0 0 20px #00f6ff;
      color: #a0f9ff;
      transform: scale(1.1);
    }

    .controlBtn.shootBtn:hover {
      box-shadow:
        0 0 30px #ff6b6b,
        inset 0 0 25px #ff6b6b;
      color: #fff;
      transform: scale(1.05);
    }

    .controlBtn:active {
      transform: scale(0.9);
      box-shadow: none;
      color: #00c4ff;
    }

    /* Responsive canvas width */
    @media (max-width: 520px) {
      #gameCanvas {
        width: 100vw;
        height: calc(100vw * (640 / 480));
      }
      #mobileControls {
        max-width: 100vw;
        padding: 0 10px;
      }
      .controlBtn {
        width: 60px;
        height: 60px;
        font-size: 2.2rem;
      }
      .controlBtn.shootBtn {
        width: 110px;
        font-size: 1.4rem;
      }
    }
  </style>
</head>
<body>

  <div id="scoreboard" aria-label="Game scoreboard">
    <div class="coins" aria-label="Score in coins" role="img" title="Score">
      <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false">
        <circle cx="12" cy="12" r="10" />
        <path d="M8 12a4 4 0 0 0 8 0 4 4 0 0 0-8 0z" fill="#fff" />
      </svg>
      <span id="scoreValue">0</span>
    </div>
    <div class="hearts" aria-label="Lives in hearts" role="img" title="Lives">
      <!-- Hearts inserted dynamically -->
    </div>
  </div>

  <canvas id="gameCanvas" width="480" height="640" aria-label="Game canvas"></canvas>

  <div id="gameOverScreen" role="alert" aria-live="assertive" aria-hidden="true">
    <div>Game Over!</div>
    <div id="finalScore"></div>
    <button id="shareFacebook" type="button" aria-label="Share your score on Facebook">Share on Facebook</button>
    <button id="shareTwitter" type="button" aria-label="Share your score on Twitter">Share on Twitter</button>
    <button id="shareWhatsApp" type="button" aria-label="Share your score on WhatsApp">Share on WhatsApp</button>
    <button id="restartBtn" type="button" aria-label="Restart game">Restart</button>
  </div>

  <!-- Mobile Controls -->
  <div id="mobileControls" aria-label="Mobile game controls">
    <button id="moveLeft" class="controlBtn" aria-label="Move Left">◀</button>
    <button id="moveRight" class="controlBtn" aria-label="Move Right">▶</button>
    <button id="shootBtn" class="controlBtn shootBtn" aria-label="Shoot">Shoot</button>
  </div>

  <script>
    const canvas = document.getElementById('gameCanvas');
    const ctx = canvas.getContext('2d');
    const scoreboard = document.getElementById('scoreboard');
    const scoreValue = document.getElementById('scoreValue');
    const heartsContainer = scoreboard.querySelector('.hearts');
    const gameOverScreen = document.getElementById('gameOverScreen');
    const finalScoreDisplay = document.getElementById('finalScore');
    const restartBtn = document.getElementById('restartBtn');
    const shareFacebookBtn = document.getElementById('shareFacebook');
    const shareTwitterBtn = document.getElementById('shareTwitter');
    const shareWhatsAppBtn = document.getElementById('shareWhatsApp');

    const moveLeftBtn = document.getElementById('moveLeft');
    const moveRightBtn = document.getElementById('moveRight');
    const shootBtn = document.getElementById('shootBtn');

    const WIDTH = canvas.width;
    const HEIGHT = canvas.height;

    let score = 0;
    let lives = 5;
    let gameOver = false;
    let level = 1;

    const gun = {
      width: 40,
      height: 60,
      x: WIDTH / 2 - 20,
      y: HEIGHT - 70,
      color: '#00bfff',
      barrelColor: '#00f6ff',
    };

    // Bullet Pool Setup
    const MAX_BULLETS = 30;
    const bulletSpeed = 9;
    const bulletPool = [];
    for (let i = 0; i < MAX_BULLETS; i++) {
      bulletPool.push({
        x: 0,
        y: 0,
        radius: 6,
        color: '#00f6ff',
        active: false,
      });
    }

    const enemies = [];
    const particles = [];

    let enemySpawnTimer = 0;
    const enemySpawnInterval = 90;

    const enemySpeed = 2.5;
    const gunSpeed = 6;

    let moveLeftPressed = false;
    let moveRightPressed = false;

    const shootSound = new Audio('https://freesound.org/data/previews/320/320181_5260877-lq.mp3');
    const hitSound = new Audio('https://freesound.org/data/previews/256/256113_4486188-lq.mp3');

    const backgrounds = [
      'https://images.unsplash.com/photo-1506744038136-46273834b3fb?auto=format&fit=crop&w=480&q=80'
    ];

    const heartSVG = `
      <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false">
        <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 
          4.42 3 7.5 3c1.74 0 3.41 0.81 4.5 2.09C13.09 3.81 14.76 3 
          16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>
      </svg>
    `;

    // Max particles to keep lightweight
    const MAX_PARTICLES = 100;

    function updateHearts() {
      heartsContainer.innerHTML = '';
      for(let i = 0; i < lives; i++) {
        const heart = document.createElement('span');
        heart.innerHTML = heartSVG;
        heartsContainer.appendChild(heart);
      }
    }

    function updateScore() {
      scoreValue.textContent = score * 5; // 5 coins per score point
      updateHearts();
    }

    // Shoot bullet from pool + muzzle flash effect
    function shootBullet() {
      const bullet = bulletPool.find(b => !b.active);
      if (!bullet) return; // no available bullet

      bullet.x = gun.x + gun.width / 2;
      bullet.y = gun.y;
      bullet.active = true;

      const soundClone = shootSound.cloneNode();
      soundClone.volume = 0.3;
      soundClone.play();

      // Muzzle flash: short-lived bright particle at barrel
      for (let i = 0; i < 5; i++) {
        createMuzzleFlashParticle(gun.x + gun.width / 2, gun.y - 20);
      }

      // Shooting particles (small sparks)
      for(let i=0; i<8; i++) {
        particles.push(createParticle(bullet.x, bullet.y, '#00f6ff'));
      }
    }

    function createMuzzleFlashParticle(x, y) {
      if (particles.length >= MAX_PARTICLES) return; // limit particles
      const angle = Math.random() * Math.PI - Math.PI/2;
      const speed = Math.random() * 2 + 1;
      particles.push({
        x: x,
        y: y,
        radius: Math.random() * 3 + 2,
        vx: Math.cos(angle) * speed,
        vy: Math.sin(angle) * speed,
        alpha: 0.7,
        color: {r: 255, g: 255, b: 180},
        decay: 0.05,
        glow: true,
      });
    }

    function spawnEnemy() {
      const enemyWidth = 40;
      const enemyHeight = 40;
      const x = Math.random() * (WIDTH - enemyWidth);
      enemies.push({
        x: x,
        y: -enemyHeight,
        width: enemyWidth,
        height: enemyHeight,
        color: '#ff3b3b',
        active: true,
      });
    }

    function updateGunPosition() {
      if (moveLeftPressed) {
        gun.x -= gunSpeed;
        if (gun.x < 0) gun.x = 0;
      }
      if (moveRightPressed) {
        gun.x += gunSpeed;
        if (gun.x + gun.width > WIDTH) gun.x = WIDTH - gun.width;
      }
    }

    function update() {
      if (gameOver) return;

      updateGunPosition();

      enemySpawnTimer++;
      if (enemySpawnTimer >= enemySpawnInterval) {
        spawnEnemy();
        enemySpawnTimer = 0;
      }

      // Update bullets from pool
      bulletPool.forEach(bullet => {
        if (bullet.active) {
          bullet.y -= bulletSpeed;
          if (bullet.y < 0) bullet.active = false;
        }
      });

      enemies.forEach(enemy => {
        if (enemy.active) {
          enemy.y += enemySpeed;
          if (enemy.y + enemy.height > HEIGHT) {
            enemy.active = false;
            lives--;
            updateScore();
            if (lives <= 0) {
              gameOver = true;
              showGameOver();
            }
          }
        }
      });

      bulletPool.forEach(bullet => {
        if (!bullet.active) return;
        enemies.forEach(enemy => {
          if (!enemy.active) return;
          if (circleRectCollision(bullet, enemy)) {
            bullet.active = false;
            enemy.active = false;
            score++;
            updateScore();

            const hitSoundClone = hitSound.cloneNode();
            hitSoundClone.volume = 0.4;
            hitSoundClone.play();

            // Hit particles (red sparks)
            for(let i=0; i<15; i++) {
              if (particles.length >= MAX_PARTICLES) break;
              particles.push(createParticle(enemy.x + enemy.width/2, enemy.y + enemy.height/2, '#ff3b3b'));
            }
          }
        });
      });

      // Clean dead enemies
      for (let i = enemies.length - 1; i >= 0; i--) {
        if (!enemies[i].active) enemies.splice(i, 1);
      }

      // Update particles with fade and slight gravity
      for (let i = particles.length - 1; i >= 0; i--) {
        const p = particles[i];
        p.x += p.vx;
        p.y += p.vy;
        p.alpha -= p.decay || 0.03;
        if (!p.glow) p.vy += 0.05; // gravity for normal particles
        if (p.alpha <= 0) {
          particles.splice(i, 1);
        }
      }
    }

    function drawGun() {
      const grad = ctx.createLinearGradient(gun.x, gun.y, gun.x, gun.y + gun.height);
      grad.addColorStop(0, '#00bfff');
      grad.addColorStop(1, '#004f7f');
      ctx.fillStyle = grad;
      ctx.shadowColor = '#00f6ff';
      ctx.shadowBlur = 15;
      ctx.fillRect(gun.x, gun.y, gun.width, gun.height);
      ctx.shadowBlur = 0;

      ctx.fillStyle = gun.barrelColor;
      ctx.shadowColor = '#00f6ff';
      ctx.shadowBlur = 20;
      ctx.fillRect(gun.x + gun.width / 2 - 6, gun.y - 25, 12, 25);
      ctx.shadowBlur = 0;
    }

    function drawBullets() {
      bulletPool.forEach(bullet => {
        if (bullet.active) {
          ctx.beginPath();
          const grad = ctx.createRadialGradient(bullet.x, bullet.y, bullet.radius/2, bullet.x, bullet.y, bullet.radius);
          grad.addColorStop(0, '#00f6ff');
          grad.addColorStop(1, 'rgba(0,246,255,0)');
          ctx.fillStyle = grad;
          ctx.shadowColor = '#00f6ff';
          ctx.shadowBlur = 12;
          ctx.arc(bullet.x, bullet.y, bullet.radius, 0, Math.PI * 2);
          ctx.fill();
          ctx.shadowBlur = 0;
        }
      });
    }

    function drawEnemies() {
      enemies.forEach(enemy => {
        if (enemy.active) {
          const grad = ctx.createLinearGradient(enemy.x, enemy.y, enemy.x, enemy.y + enemy.height);
          grad.addColorStop(0, '#ff3b3b');
          grad.addColorStop(1, '#a80000');
          ctx.fillStyle = grad;
          ctx.shadowColor = '#ff3b3b';
          ctx.shadowBlur = 15;
          ctx.fillRect(enemy.x, enemy.y, enemy.width, enemy.height);
          ctx.shadowBlur = 0;

          ctx.fillStyle = '#fff';
          ctx.beginPath();
          ctx.arc(enemy.x + 12, enemy.y + 15, 6, 0, Math.PI * 2);
          ctx.arc(enemy.x + 28, enemy.y + 15, 6, 0, Math.PI * 2);
          ctx.fill();

          ctx.fillStyle = '#000';
          ctx.beginPath();
          ctx.arc(enemy.x + 12, enemy.y + 15, 2.5, 0, Math.PI * 2);
          ctx.arc(enemy.x + 28, enemy.y + 15, 2.5, 0, Math.PI * 2);
          ctx.fill();
        }
      });
    }

    function drawParticles() {
      particles.forEach(p => {
        ctx.beginPath();
        ctx.fillStyle = `rgba(${p.color.r},${p.color.g},${p.color.b},${p.alpha.toFixed(2)})`;
        if (p.glow) {
          ctx.shadowColor = `rgba(${p.color.r},${p.color.g},${p.color.b},${p.alpha.toFixed(2)})`;
          ctx.shadowBlur = 15;
        } else {
          ctx.shadowBlur = 0;
        }
        ctx.arc(p.x, p.y, p.radius, 0, Math.PI * 2);
        ctx.fill();
        ctx.shadowBlur = 0;
      });
    }

    function circleRectCollision(circle, rect) {
      const distX = Math.abs(circle.x - rect.x - rect.width / 2);
      const distY = Math.abs(circle.y - rect.y - rect.height / 2);

      if (distX > (rect.width / 2 + circle.radius)) return false;
      if (distY > (rect.height / 2 + circle.radius)) return false;

      if (distX <= (rect.width / 2)) return true;
      if (distY <= (rect.height / 2)) return true;

      const dx = distX - rect.width / 2;
      const dy = distY - rect.height / 2;
      return (dx * dx + dy * dy <= (circle.radius * circle.radius));
    }

    function showGameOver() {
      const coins = score * 5;
      finalScoreDisplay.textContent = `Your score: ${coins} coins`;
      gameOverScreen.style.display = 'flex';
      gameOverScreen.setAttribute('aria-hidden', 'false');
    }

    function resetGame() {
      score = 0;
      lives = 5;
      updateScore();
      bulletPool.forEach(b => b.active = false);
      enemies.length = 0;
      particles.length = 0;
      enemySpawnTimer = 0;
      gameOver = false;
      gameOverScreen.style.display = 'none';
      gameOverScreen.setAttribute('aria-hidden', 'true');
      gun.x = WIDTH / 2 - gun.width / 2;
      setBackground(level);
      loop();
    }

    function clearCanvas() {
      ctx.clearRect(0, 0, WIDTH, HEIGHT);
    }

    function createParticle(x, y, hexColor) {
      const rgb = hexToRgb(hexColor);
      return {
        x: x + (Math.random() * 10 - 5),
        y: y + (Math.random() * 10 - 5),
        radius: Math.random() * 3 + 1,
        vx: (Math.random() - 0.5) * 3,
        vy: (Math.random() - 0.5) * 3,
        alpha: 1,
        color: rgb,
        decay: 0.03,
        glow: false,
      };
    }

    function hexToRgb(hex) {
      hex = hex.replace(/^#/, '');
      if (hex.length === 3) {
        hex = hex.split('').map(c => c + c).join('');
      }
      const num = parseInt(hex, 16);
      return {
        r: (num >> 16) & 255,
        g: (num >> 8) & 255,
        b: num & 255
      };
    }

    function draw() {
      clearCanvas();
      drawGun();
      drawBullets();
      drawEnemies();
      drawParticles();
    }

    function loop() {
      if (gameOver) return;
      update();
      draw();
      requestAnimationFrame(loop);
    }

    function setBackground(level) {
      const bgUrl = backgrounds[(level - 1) % backgrounds.length];
      canvas.style.backgroundImage = `url(${bgUrl})`;
    }

    // Share buttons logic
    function getShareText() {
      const coins = score * 5;
      return `I scored ${coins} coins in Modern Shooting Game! Can you beat my score?`;
    }

    function getGameUrl() {
      return encodeURIComponent(window.location.href);
    }

    shareFacebookBtn.addEventListener('click', () => {
      const text = encodeURIComponent(getShareText());
      const url = getGameUrl();
      const shareUrl = `https://www.facebook.com/sharer/sharer.php?u=${url}&quote=${text}`;
      window.open(shareUrl, '_blank', 'width=600,height=400');
    });

    shareTwitterBtn.addEventListener('click', () => {
      const text = encodeURIComponent(getShareText());
      const url = getGameUrl();
      const shareUrl = `https://twitter.com/intent/tweet?text=${text}&url=${url}`;
      window.open(shareUrl, '_blank', 'width=600,height=400');
    });

    shareWhatsAppBtn.addEventListener('click', () => {
      const text = encodeURIComponent(getShareText() + ' ' + decodeURIComponent(getGameUrl()));
      const shareUrl = `https://wa.me/?text=${text}`;
      window.open(shareUrl, '_blank');
    });

    // Controls event listeners
    canvas.addEventListener('click', () => {
      if (gameOver) return;
      shootBullet();
    });

    moveLeftBtn.addEventListener('touchstart', e => {
      e.preventDefault();
      moveLeftPressed = true;
    });
    moveLeftBtn.addEventListener('touchend', e => {
      e.preventDefault();
      moveLeftPressed = false;
    });
    moveRightBtn.addEventListener('touchstart', e => {
      e.preventDefault();
      moveRightPressed = true;
    });
    moveRightBtn.addEventListener('touchend', e => {
      e.preventDefault();
      moveRightPressed = false;
    });
    shootBtn.addEventListener('touchstart', e => {
      e.preventDefault();
      if (!gameOver) shootBullet();
    });

    window.addEventListener('keydown', e => {
      if (gameOver) return;
      if (e.key === 'ArrowLeft' || e.key === 'a') moveLeftPressed = true;
      if (e.key === 'ArrowRight' || e.key === 'd') moveRightPressed = true;
      if (e.key === ' ' || e.key === 'ArrowUp') shootBullet();
    });
    window.addEventListener('keyup', e => {
      if (e.key === 'ArrowLeft' || e.key === 'a') moveLeftPressed = false;
      if (e.key === 'ArrowRight' || e.key === 'd') moveRightPressed = false;
    });

    restartBtn.addEventListener('click', () => {
      resetGame();
    });

    // Initialize
    updateScore();
    setBackground(level);
    loop();
  </script>
</body>
</html>
